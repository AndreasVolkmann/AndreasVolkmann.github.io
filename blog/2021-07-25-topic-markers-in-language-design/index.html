<!DOCTYPE html>
<html lang="en"><!--
 __  __                __                                     __
/\ \/\ \              /\ \             __                    /\ \
\ \ \_\ \   __  __    \_\ \      __   /\_\      __       ___ \ \ \/'\
 \ \  _  \ /\ \/\ \   /'_` \   /'__`\ \/\ \   /'__`\    /'___\\ \ , <
  \ \ \ \ \\ \ \_\ \ /\ \L\ \ /\  __/  \ \ \ /\ \L\.\_ /\ \__/ \ \ \\`\
   \ \_\ \_\\/`____ \\ \___,_\\ \____\ _\ \ \\ \__/.\_\\ \____\ \ \_\ \_\
    \/_/\/_/ `/___/> \\/__,_ / \/____//\ \_\ \\/__/\/_/ \/____/  \/_/\/_/
                /\___/                \ \____/
                \/__/                  \/___/

Powered by Hydejack v8.5.2 <https://hydejack.com/>
--><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="robots" content="noindex"><title>Language features across the boundary | Andreas Volkmann</title><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="Language features across the boundary" /><meta name="author" content="Andreas Volkmann" /><meta property="og:locale" content="en" /><meta name="description" content="Topic markers and context can help keep you DRY" /><meta property="og:description" content="Topic markers and context can help keep you DRY" /><link rel="canonical" href="https://andreasvolkmann.github.io//blog/2021-07-25-topic-markers-in-language-design/" /><meta property="og:url" content="https://andreasvolkmann.github.io//blog/2021-07-25-topic-markers-in-language-design/" /><meta property="og:site_name" content="Andreas Volkmann" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-07-25T00:00:00-07:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Language features across the boundary" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Andreas Volkmann"},"dateModified":"2021-07-25T00:00:00-07:00","datePublished":"2021-07-25T00:00:00-07:00","description":"Topic markers and context can help keep you DRY","headline":"Language features across the boundary","mainEntityOfPage":{"@type":"WebPage","@id":"https://andreasvolkmann.github.io//blog/2021-07-25-topic-markers-in-language-design/"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://andreasvolkmann.github.io//assets/icons/icon.png"},"name":"Andreas Volkmann"},"url":"https://andreasvolkmann.github.io//blog/2021-07-25-topic-markers-in-language-design/"}</script><meta name="keywords" content="andreas,volkmann"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Andreas Volkmann"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="application-name" content="Andreas Volkmann"><meta name="msapplication-config" content="/assets/ieconfig.xml"><meta name="theme-color" content="rgb(25,55,71)"><meta name="generator" content="Hydejack v8.5.2" /><link type="application/atom+xml" rel="alternate" href="https://andreasvolkmann.github.io//feed.xml" title="Andreas Volkmann" /><link rel="alternate" href="https://andreasvolkmann.github.io//blog/2021-07-25-topic-markers-in-language-design/" hreflang="en"><link rel="shortcut icon" href="/assets/icons/favicon.ico"><link rel="apple-touch-icon" href="/assets/icons/icon.png"><link rel="manifest" href="/assets/manifest.json"><link rel="dns-prefetch" href="https://fonts.googleapis.com"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="dns-prefetch" href="/" id="_baseURL"><link rel="dns-prefetch" href="/sw.js" id="_hrefSW"><link rel="dns-prefetch" href="/assets/bower_components/katex/dist/katex.min.js" id="_hrefKatexJS"><link rel="dns-prefetch" href="/assets/bower_components/katex/dist/katex.min.css" id="_hrefKatexCSS"><link rel="dns-prefetch" href="/assets/bower_components/katex/dist/contrib/copy-tex.min.js" id="_hrefKatexCopyJS"><link rel="dns-prefetch" href="/assets/bower_components/katex/dist/contrib/copy-tex.min.css" id="_hrefKatexCopyCSS"><link rel="dns-prefetch" href="/assets/img/swipe.svg" id="_hrefSwipeSVG"> <script> !function(e,t){"use strict";function n(e,t,n,o){e.addEventListener?e.addEventListener(t,n,o):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}e.loadJS=function(e,o){var r=t.createElement("script");r.src=e,o&&n(r,"load",o,{once:!0});var a=t.scripts[0];return a.parentNode.insertBefore(r,a),r},e._loaded=!1,e.loadJSDeferred=function(o,r){function a(){e._loaded=!0,r&&n(c,"load",r,{once:!0});var o=t.scripts[0];o.parentNode.insertBefore(c,o)}var c=t.createElement("script");return c.src=o,e._loaded?a():n(e,"load",a,{once:!0}),c},e.setRel=e.setRelStylesheet=function(e){function o(){this.rel="stylesheet"}n(t.getElementById(e),"load",o,{once:!0})}}(window,document); ; !function(a){"use strict";var b=function(b,c,d){function e(a){return h.body?a():void setTimeout(function(){e(a)})}function f(){i.addEventListener&&i.removeEventListener("load",f),i.media=d||"all"}var g,h=a.document,i=h.createElement("link");if(c)g=c;else{var j=(h.body||h.getElementsByTagName("head")[0]).childNodes;g=j[j.length-1]}var k=h.styleSheets;i.rel="stylesheet",i.href=b,i.media="only x",e(function(){g.parentNode.insertBefore(i,c?g:g.nextSibling)});var l=function(a){for(var b=i.href,c=k.length;c--;)if(k[c].href===b)return a();setTimeout(function(){l(a)})};return i.addEventListener&&i.addEventListener("load",f),i.onloadcssdefined=l,l(f),i};"undefined"!=typeof exports?exports.loadCSS=b:a.loadCSS=b}("undefined"!=typeof global?global:this); ; !function(a){if(a.loadCSS){var b=loadCSS.relpreload={};if(b.support=function(){try{return a.document.createElement("link").relList.supports("preload")}catch(b){return!1}},b.poly=function(){for(var b=a.document.getElementsByTagName("link"),c=0;c<b.length;c++){var d=b[c];"preload"===d.rel&&"style"===d.getAttribute("as")&&(a.loadCSS(d.href,d,d.getAttribute("media")),d.rel=null)}},!b.support()){b.poly();var c=a.setInterval(b.poly,300);a.addEventListener&&a.addEventListener("load",function(){b.poly(),a.clearInterval(c)}),a.attachEvent&&a.attachEvent("onload",function(){a.clearInterval(c)})}}}(this); ; !function(w, d) { w._noPushState = false; w._noDrawer = false; }(window, document); </script> <!--[if gt IE 8]><!----><style> body{--code-font-family: Menlo,Monaco,Consolas,monospace;--font-weight: 400;--font-weight-bold: 700;--font-weight-heading: 400;--text-muted: #888;--gray-bg: rgba(0,0,0,0.025);--gray-text: #666;--menu-text: #bbb;--body-color: #333;--body-bg: #fff;--border-color: #ebebeb}.clearfix,.sidebar-social::after{content:"";display:table;clear:both}.color-transition,.message,table:not(.highlight) td,table:not(.highlight) th,.hr,hr,p,body{transition:background-color 1s ease, border-color 1s ease}.no-color-transition{transition:none !important}*{box-sizing:border-box}html,body{margin:0;padding:0}html{font-size:16px;line-height:1.75}body{color:var(--body-color);background-color:var(--body-bg);font-weight:var(--font-weight);overflow-y:scroll}a{text-decoration:none}.lead{margin-left:-1rem;margin-right:-1rem}.content img,.img,.content video,.video{max-width:100%}.content img.lead,.img.lead,.content video.lead,.video.lead{max-width:calc(100% + 2rem);width:calc(100% + 2rem)}h1,h2,h3,h4,h5,h6,.h1,.h2,.h3,.h4,.h5,.h6{font-weight:var(--font-weight-heading);margin:5rem 0 1rem}h1,.h1{font-size:2rem;line-height:1.3}h2,.h2{font-size:1.5rem;line-height:1.4}h3,.h3{font-size:1.17em;line-height:1.5}h4,h5,h6,.h4,.h5,.h6{font-size:1rem;margin-bottom:0.5rem}p{margin-top:0;margin-bottom:1rem}p.lead{font-size:1.2em;margin-top:1.5rem;margin-bottom:1.5rem;padding:0 1rem}ul,ol,dl{margin-top:0;margin-bottom:1rem}ul,ol{padding-left:1.25rem}hr{position:relative;margin:3rem 0;border:0;border-top:1px solid var(--border-color)}.hr{border-bottom:1px solid var(--border-color);padding-bottom:1rem;margin-bottom:2rem}table:not(.highlight){border-collapse:collapse;margin-bottom:2rem;margin-left:-1rem}table:not(.highlight) td,table:not(.highlight) th{padding:.25rem .5rem;border:1px solid var(--border-color)}table:not(.highlight) td:first-child,table:not(.highlight) th:first-child{padding-left:1rem}table:not(.highlight) td:last-child,table:not(.highlight) th:last-child{padding-right:1rem}.page{margin-bottom:3em}.page li+li{margin-top:.25rem}.page>header{margin-bottom:2rem}.page-title,.post-title{margin-top:0}.post-date{display:block;margin-top:-0.5rem;margin-bottom:1rem;color:var(--text-muted)}.related-posts{padding-left:0;list-style:none;margin-bottom:2rem}.related-posts>li,.related-posts>li+li{margin-top:1rem}.message{margin-bottom:1rem;padding:1rem;color:var(--gray-text);background-color:var(--gray-bg);margin-left:-1rem;margin-right:-1rem}@media screen{body::before{content:'';width:.5rem;background:var(--border-color);position:fixed;left:0;top:0;bottom:0}}@media screen and (min-width: 64em){body::before{width:21rem}}@media screen and (min-width: 1666px){body::before{width:calc(50% - 28rem)}}@media screen and (min-width: 42em){html{font-size:17px}}@media screen and (min-width: 124em){html{font-size:18px}}.fade-in{animation-duration:500ms;animation-timing-function:ease;animation-name:fade-in;animation-fill-mode:forwards}@keyframes fade-in{from{transform:translateY(-3rem);opacity:0}50%{transform:translateY(-3rem);opacity:0}to{transform:translateY(0);opacity:1}}.fl{float:left}.fr{float:right}.mb4{margin-bottom:4rem}.mb6{margin-bottom:6rem}.mt0{margin-top:0}.mt2{margin-top:2rem}.mt3{margin-top:3rem}.mt4{margin-top:4rem}.pb0{padding-bottom:0}.sixteen-nine{position:relative}.sixteen-nine::before{display:block;content:"";width:100%;padding-top:56.25%}.sixteen-nine>*{position:absolute;top:0;left:0;right:0;bottom:0}.sr-only{display:none}.border{border:1px solid var(--border-color)}hy-push-state a,.a{position:relative;padding-bottom:.15rem;border-bottom:1px solid}hy-push-state a.no-hover,.a.no-hover{border-bottom:none;padding-bottom:0}.content .img{overflow:hidden}.content .img img{margin:0;width:100%;height:100%;background-color:var(--gray-bg)}hy-drawer{width:100%;position:relative;overflow:hidden}@media screen and (min-width: 64em){hy-drawer{position:fixed;width:21rem;top:0;left:0;bottom:0;margin-left:0}hy-drawer.cover{position:relative;width:100%}}@media screen and (min-width: 1666px){hy-drawer{width:calc(50% - 28rem)}}.sidebar{position:relative;display:flex;justify-content:center;align-items:center;color:rgba(255,255,255,0.75);text-align:center;z-index:2;min-height:100vh}.sidebar a{color:#fff;border-bottom-color:rgba(255,255,255,0.2)}.sidebar-bg{position:absolute;top:0;left:calc(50% - 50vw);width:100vw;height:100%;background:#202020 center / cover}.sidebar-bg::after{content:"";position:absolute;top:0;left:0;bottom:0;right:0;background:rgba(0,0,0,0.05)}.sidebar-bg.sidebar-overlay::after{background:linear-gradient(to bottom, rgba(32,32,32,0) 0%, rgba(32,32,32,0.5) 50%, rgba(32,32,32,0) 100%)}.sidebar-sticky{position:relative;z-index:3;max-width:21rem;padding:1.5rem;contain:content}.sidebar-about .avatar{margin-bottom:1.5rem}.sidebar-about>h2{margin-top:0}.sidebar-nav>ul{list-style:none;padding-left:0}a.sidebar-nav-item{display:inline-block;font-weight:var(--font-weight-heading);line-height:1.75;padding:.25rem;border-bottom:1px solid rgba(255,255,255,0.2)}.sidebar-social>ul{display:inline-block;list-style:none;padding-left:0;margin-bottom:0}.sidebar-social>ul>li{float:left}.sidebar-social>ul>li>a{display:inline-block;text-align:center;font-size:1.4rem;width:3rem;height:4rem;padding:.5rem 0;line-height:3rem}.sidebar-social>ul li+li{margin-top:0}.fixed-common,.fixed-bottom,.fixed-top{position:fixed;left:0;width:100%;z-index:2}.fixed-top{top:0}.fixed-bottom{bottom:0}.navbar>.content{padding-top:0;padding-bottom:0;min-height:0;color:var(--menu-text)}.nav-btn-bar{margin:0 -1rem 0 -.875rem}.nav-btn{background:none;border:none;padding:1.75rem .875rem;color:var(--menu-text) !important;cursor:pointer}.animation-main{opacity:0;pointer-events:none}.content{position:relative;margin-left:auto;margin-right:auto;padding:6rem 1rem 12rem}@media screen{.content{padding-left:1.5rem;max-width:38rem;min-height:100vh}}@media screen and (min-width: 54em){.content{max-width:42rem}}@media screen and (min-width: 64em){.content{padding-left:1rem;margin-left:24rem;margin-right:3rem}}@media screen and (min-width: 88em){.content{margin-left:25rem;margin-right:4rem;max-width:48rem}}@media screen and (min-width: 1666px){.content{margin:auto}}.avatar{width:6.5rem;height:6.5rem;border-radius:100%;overflow:hidden}@media screen and (min-width: 88em){.avatar{width:7rem;height:7rem}}.content .avatar{float:right;margin-left:.5rem}html{font-family:Noto Sans,Helvetica,Arial,sans-serif}h1,h2,h3,h4,h5,h6,.h1,.h2,.h3,.h4,.h5,.h6,.heading{font-family:Roboto Slab,Helvetica,Arial,sans-serif}</style><link rel="preload" as="style" href="/assets/css/hydejack-8.5.2.css" id="_stylePreload"><link rel="preload" as="style" href="/assets/icomoon/style.css" id="_iconsPreload"><link rel="preload" as="style" href="https://fonts.googleapis.com/css?family=Roboto+Slab:400|Noto+Sans:400,400i,700,700i&display=swap" id="_fontsPreload"> <script>setRel('_stylePreload');setRel('_iconsPreload');/**/setRel('_fontsPreload');/**/</script> <noscript><link rel="stylesheet" href="/assets/css/hydejack-8.5.2.css"><link rel="stylesheet" href="/assets/icomoon/style.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Slab:400|Noto+Sans:400,400i,700,700i&display=swap"> </noscript><style id="_pageStyle"> .content a:not(.btn){color:#4fb1ba;border-color:rgba(79,177,186,0.2)}.content a:not(.btn):hover{border-color:#4fb1ba}:focus{outline-color:#4fb1ba !important}.btn-primary{color:#fff;background-color:#4fb1ba;border-color:#4fb1ba}.btn-primary:focus,.btn-primary.focus,.form-control:focus,.form-control.focus{box-shadow:0 0 0 3px rgba(79,177,186,0.5)}.btn-primary:hover,.btn-primary.hover{color:#fff;background-color:#409ba3;border-color:#409ba3}.btn-primary:disabled,.btn-primary.disabled{color:#fff;background-color:#4fb1ba;border-color:#4fb1ba}.btn-primary:active,.btn-primary.active{color:#fff;background-color:#409ba3;border-color:#409ba3}::selection{color:#fff;background:#4fb1ba}::-moz-selection{color:#fff;background:#4fb1ba}</style><!--<![endif]--><body class="no-color-transition"><div id="_navbar" class="navbar fixed-top"><div class="content"><div class="nav-btn-bar"> <span class="sr-only">Jump to:</span> <a id="_menu" class="nav-btn no-hover fl" href="#_navigation"> <span class="sr-only">Navigation</span> <span class="icon-menu"></span> </a></div></div></div><hr class="sr-only" hidden /> <hy-push-state replace-ids="_main" link-selector="a[href]:not([href*='/assets/']):not(.external):not(.no-push-state)" duration="250" script-selector="script:not([type^='math/tex'])" prefetch ><main id="_main" class="content fade-in layout-post" role="main" data-color="rgb(79,177,186)" data-theme-color="rgb(25,55,71)" data-image="/assets/img/sidebar-bg.jpg" data-overlay ><article id="post-blog-topic-markers-in-language-design" class="page post mb6" role="article"><header><h1 class="post-title"> Language features across the boundary</h1><p class="post-date heading"> <time datetime="2021-07-25T00:00:00-07:00">25 Jul 2021</time> in <span>Blog</span><p class="message" > Topic markers and context can help keep you DRY</header><ol id="markdown-toc"><li><a href="#topic-markers" id="markdown-toc-topic-markers">Topic markers</a><ol><li><a href="#implicit-topics" id="markdown-toc-implicit-topics">Implicit topics</a></ol><li><a href="#programming-analog" id="markdown-toc-programming-analog">Programming analog</a><ol><li><a href="#extension-functions-with-receivers" id="markdown-toc-extension-functions-with-receivers">Extension functions with receivers</a><ol><li><a href="#further-parallels" id="markdown-toc-further-parallels">Further parallels</a></ol></ol><li><a href="#conclusion" id="markdown-toc-conclusion">Conclusion</a></ol><p>In western languages we are used to repeatedly re-declare the topic we are talking about. There is hardly a sentence without a pronoun, and we often have to find <a href="https://owl.purdue.edu/owl/general_writing/academic_writing/sentence_variety/for_repeated_subjects_or_topics.html">creative ways</a> to reduce repetition, in order not to sound dry and robotic.<p>Imagine a typical conversation between person <code class="language-plaintext highlighter-rouge">A</code> and <code class="language-plaintext highlighter-rouge">B</code>:<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">A</span><span class="pi">:</span> <span class="s">How is your new teacher?</span>
<span class="na">B</span><span class="pi">:</span> <span class="s">I don't like him. He's too strict.</span>
<span class="na">A</span><span class="pi">:</span> <span class="s">Is he worse than Mr. X?</span>
<span class="na">B</span><span class="pi">:</span> <span class="s">No, but he still thinks it's the 80s.</span>
<span class="nn">...</span>
</code></pre></div></div><p>This could go on for quite a bit, but after the first sentence it should be clear to everyone what the topic is. Then why do we have to repeatedly refer to it?<p>Think about introducing yourself to an audience. Nobody is in doubt who you are talking about, yet practically every sentence will contain an <code class="language-plaintext highlighter-rouge">I</code> or <code class="language-plaintext highlighter-rouge">my</code>.<p>Growing up with such a language, this feels normal. Although, as developers, we tend to get an allergic reaction when seeing excessive repetition.<p>Once we discover an elegant alternative, we realize that languages like English, German, Danish are really quite verbose. They are said to be <a href="https://en.wikipedia.org/wiki/Topic-prominent_language">subject-prominent</a>.<h1 id="topic-markers">Topic markers</h1><p>Some natural languages, like Japanese and Korean, support a feature called <a href="https://en.wikipedia.org/wiki/Topic_marker">topic markers</a>. They allow you to declare a topic, and then largely omit referencing it throughout the conversation.<p>Going back to the previous example, once the topic is established, we can stop referring to it.<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">A</span><span class="pi">:</span> <span class="s">How is new teacher?</span>
<span class="na">B</span><span class="pi">:</span> <span class="s">Don't like. Too strict.</span>
<span class="na">A</span><span class="pi">:</span> <span class="s">Worse than Mr. X?</span>
<span class="na">B</span><span class="pi">:</span> <span class="s">No, but still thinks it's the 80s.</span>
<span class="nn">...</span>
</code></pre></div></div><p>This sounds unnatural in English, but is the default in Japanese. In fact, we can omit nearly all pronouns, as they are usually inferred from the context:<ul><li>When <code class="language-plaintext highlighter-rouge">A</code> asks <code class="language-plaintext highlighter-rouge">B</code> a question, <code class="language-plaintext highlighter-rouge">B</code> is not in doubt whose teacher <code class="language-plaintext highlighter-rouge">A</code> is talking about.<li>When <code class="language-plaintext highlighter-rouge">B</code> states her opinion, both know who about.<li>As long as the topic doesn’t change, there is no need to refer to the teacher with pronouns.</ul><h2 id="implicit-topics">Implicit topics</h2><p>Context-heavy languages assume a lot of implicit information, allowing for very succinct communication. Japanese is known for being on the extreme end of the context-heavy scala, as almost every sentence will omit some information.<blockquote><p>In high context cultures many of the words you might think of as essential in another linguistic setting become unnecessary or out of place. Japanese is one such language, where things are often implied by context and mutual understanding.<p><a href="https://www.italki.com/article/877/omitting-the-subject-in-japanese?hl=en">Source</a></blockquote><p><a href="https://en.wikipedia.org/wiki/Japanese_grammar#Thematic_wa">A classic</a> is the sentence <code class="language-plaintext highlighter-rouge">僕はウナギだ</code>, which can be interpreted as <code class="language-plaintext highlighter-rouge">I am an eel</code>, which doesn’t make much sense. The implicit context is that we are in a restaurant, where the sentence is used to state your order, as in <code class="language-plaintext highlighter-rouge">I'd like the eel, please</code>.<p>More generally, you omit pronouns in most conversations. When talking about yourself, stating your thoughts, or telling a story about your kids, you won’t have to say <code class="language-plaintext highlighter-rouge">I</code> / <code class="language-plaintext highlighter-rouge">my</code>. Once you open your mouth, it is clear that you are the topic. When seeing a colleague and asking a question, you won’t say <code class="language-plaintext highlighter-rouge">You</code>. The other person understands that he is the one being asked.<p>Once I went to a book store, where a band was playing. Just as I entered, they stopped playing, and I went up to one of the members to ask whether they would continue later. The entire conversation was:<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">Me</span><span class="pi">:</span> <span class="s">もう終わった？</span> <span class="c1"># ~ Already finished?</span>
<span class="na">He</span><span class="pi">:</span> <span class="s">まだ。</span>       <span class="c1"># ~ Still.</span>
</code></pre></div></div><p>I was taken aback by the curtness of his answer, but this is really quite common.<h1 id="programming-analog">Programming analog</h1><p>The first similar concept that comes to mind is a plain class, from which we can reference other members of the class without qualification.<p>As mentioned, in Japanese you can omit declaring yourself as the topic. Let’s imagine a class about ourselves, called <code class="language-plaintext highlighter-rouge">I</code>.<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">I</span> <span class="p">{</span>
    <span class="k">private</span> <span class="k">fun</span> <span class="nf">think</span><span class="p">(</span><span class="n">about</span><span class="p">:</span> <span class="nc">String</span><span class="p">)</span> <span class="p">{}</span>
    
    <span class="k">fun</span> <span class="nf">say</span><span class="p">()</span> <span class="p">{</span>
        <span class="nf">think</span><span class="p">(</span><span class="s">"No more subject!"</span><span class="p">)</span>
        <span class="nf">think</span><span class="p">(</span><span class="s">"Context is awesome!"</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div><p>As opposed to:<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">val</span> <span class="py">i</span> <span class="p">=</span> <span class="nc">I</span><span class="p">()</span>

<span class="k">fun</span> <span class="nf">say</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">i</span><span class="p">.</span><span class="nf">think</span><span class="p">(</span><span class="s">"therefore I am"</span><span class="p">)</span>
    <span class="n">i</span><span class="p">.</span><span class="nf">think</span><span class="p">(</span><span class="s">"repetition is boring"</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div><p>Generally, good design will produce classes with low subject repetition. Similar to how we organize our prose to minimize repetition and keep the reader engaged. If we find ourselves frequently referring to the same subject, then that is a sign that the code belongs in a (topic) class.<p>This works well when we own the class, but what if the topic is out of our control?<h2 id="extension-functions-with-receivers">Extension functions with receivers</h2><p>Have you ever had to write a function which operates on an external type, like the below?<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">fun</span> <span class="nf">mutate</span><span class="p">(</span><span class="k">external</span><span class="p">:</span> <span class="nc">External</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">external</span><span class="p">.</span><span class="n">name</span> <span class="p">=</span> <span class="s">"Test"</span>
    <span class="k">external</span><span class="p">.</span><span class="n">age</span> <span class="p">=</span> <span class="mi">10_000</span>
    <span class="k">external</span><span class="p">.</span><span class="n">location</span> <span class="p">=</span> <span class="nf">getCurrentLocation</span><span class="p">()</span>
    <span class="k">external</span><span class="p">.</span><span class="n">status</span> <span class="p">=</span> <span class="o">..</span><span class="p">.</span>
    <span class="k">external</span><span class="p">.</span><span class="n">yetAnotherField</span> <span class="p">=</span> <span class="o">..</span><span class="p">.</span> 
    <span class="c1">/// 10 more fields to set</span>
<span class="p">}</span>
</code></pre></div></div><p>This is super annoying. We basically want a way to declare <code class="language-plaintext highlighter-rouge">external</code> as our topic, and then stop referring to it in every single line, as if it was a function of the class itself.<p>In Kotlin, <a href="https://kotlinlang.org/docs/extensions.html#extension-functions">extension functions</a> are declared by defining a receiver type for the function. Within its scope, the receiver becomes <code class="language-plaintext highlighter-rouge">this</code>, and can be omitted.<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">fun</span> <span class="nc">External</span><span class="p">.</span><span class="nf">mutate</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">name</span> <span class="p">=</span> <span class="s">"Test"</span>
    <span class="n">age</span> <span class="p">=</span> <span class="mi">10_000</span>
    <span class="n">location</span> <span class="p">=</span> <span class="nf">getCurrentLocation</span><span class="p">()</span>
    <span class="n">status</span> <span class="p">=</span> <span class="o">..</span><span class="p">.</span>
    <span class="o">..</span><span class="p">.</span>
<span class="p">}</span>
</code></pre></div></div><p>Such receivers can be thought of as topic markers, indicating that the following block of code will invoke the topic without explicitly referencing it.<p>The standard library contains generic helper functions, like <code class="language-plaintext highlighter-rouge">apply</code> to facilitate this inline.<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">StringBuilder</span><span class="p">().</span><span class="nf">apply</span> <span class="p">{</span>
    <span class="nf">append</span><span class="p">(</span><span class="s">"Hello "</span><span class="p">)</span>
    <span class="n">names</span><span class="p">.</span><span class="nf">forEach</span> <span class="p">{</span> <span class="nf">append</span><span class="p">(</span><span class="n">it</span><span class="p">).</span><span class="nf">append</span><span class="p">(</span><span class="s">","</span><span class="p">)</span> <span class="p">}</span>
    <span class="nf">setLength</span><span class="p">(</span><span class="n">length</span> <span class="p">-</span> <span class="mi">1</span><span class="p">)</span>
    <span class="nf">append</span><span class="p">(</span><span class="s">"!"</span><span class="p">)</span>
<span class="p">}.</span><span class="nf">toString</span><span class="p">()</span> <span class="c1">// Hello A, B!</span>
</code></pre></div></div><p>Without <code class="language-plaintext highlighter-rouge">apply</code>, we would have to declare the subject in every line, sometimes even twice. We could actually create a similar helper for the Japanese topic marker <code class="language-plaintext highlighter-rouge">は</code>:<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">infix</span> <span class="k">fun</span> <span class="p">&lt;</span><span class="nc">T</span><span class="p">&gt;</span> <span class="nc">T</span><span class="p">.</span><span class="err">は(</span><span class="nf">block</span><span class="p">:</span> <span class="nc">T</span><span class="p">.()</span> <span class="p">-&gt;</span> <span class="nc">Unit</span><span class="p">)</span> <span class="p">=</span> <span class="nf">block</span><span class="p">()</span>

<span class="nc">RestaurantOrder</span><span class="p">()</span> <span class="err">は</span> <span class="p">{</span> <span class="nf">unagi</span><span class="p">()</span> <span class="p">}</span>
</code></pre></div></div><p>Receivers are frequently leveraged to enable custom DSLs / <a href="https://kotlinlang.org/docs/type-safe-builders.html">type-safe builders</a>. For example, a type-safe way to build html in code:<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">html</span> <span class="p">{</span>
    <span class="nf">header</span> <span class="p">{</span>
        <span class="nf">stylesheet</span><span class="p">(</span><span class="n">color</span> <span class="p">=</span> <span class="s">"blue"</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="nf">body</span> <span class="p">{</span>
        <span class="nf">form</span> <span class="p">{</span>
            <span class="nf">textColumn</span><span class="p">(</span><span class="s">"name"</span><span class="p">)</span>
        <span class="p">}</span>
        <span class="nf">button</span><span class="p">(</span><span class="s">"OK"</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="nf">footer</span><span class="p">()</span>
<span class="p">}</span>
</code></pre></div></div><p>Another cool thing here is the notion of nested receivers / topics, just as in natural language. The <code class="language-plaintext highlighter-rouge">textColumn</code> only makes sense in the context of a form in a body in html.<p>Going back to the eel example, how could we express this in code? First, we can always assume an implicit context of <code class="language-plaintext highlighter-rouge">I</code>. Next, we are in a restaurant and, facing the waiter, it is clear that we intend to order food.<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">I</span> <span class="p">{</span>
    <span class="k">fun</span> <span class="nc">RestaurantOrder</span><span class="p">.</span><span class="nf">unagi</span><span class="p">()</span> <span class="p">=</span> <span class="nf">order</span><span class="p">(</span><span class="nc">Menu</span><span class="p">.</span><span class="nc">EelOnRice</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="p">}</span>

<span class="nc">I</span> <span class="p">{</span> <span class="c1">// implicit I</span>
    <span class="nf">restaurant</span> <span class="p">{</span> <span class="c1">// when in restaurant</span>
        <span class="nf">order</span> <span class="p">{</span> <span class="c1">// when about to order</span>
            <span class="nf">unagi</span><span class="p">()</span> <span class="c1">// when in the right context, a single word is sufficient</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div><p>Notice that we can define <a href="https://kotlinlang.org/docs/extensions.html#declaring-extensions-as-members">local extensions</a>! This really allows us to express the concept of sub-topics, i.e. the unagi restaurant order only applies to me.<h3 id="further-parallels">Further parallels</h3><p>In Japanese, adding back the omitted subject references still leads to grammatically correct sentences, but they will be perceived as awkward, and you will have trouble making yourself understood. This is analogous to unclean code with excessive duplication, or unnecessary qualifications. For others reading your code, this noise is an impairment to understanding your true intent.<h1 id="conclusion">Conclusion</h1><p>In programming, topics are generally handled by defining classes of cohesive members, which can operate on the topic without explicit references. Kotlin adds the magic by allowing the same behavior on external types via extensions. Bonus points for local extensions!<p>Natural languages like Japanese have a special topic marker particle which feels similar to defining the receiver on an extension function. In context-heavy languages we can omit a lot of implicit information, often leading to much shorter, concise sentences.<p>To me, both Kotlin and Japanese have a sense of elegance, as it is super easy to produce highly expressive and concise output.</article><hr class="dingbat related" /><aside class="about related mt4 mb4" role="complementary"><div class="author mt4"> <hy-img src="/assets/img/didi_pilot.png" class="avatar" alt="Andreas Volkmann" root-margin="512px" > <noscript><img data-ignore src="/assets/img/didi_pilot.png" class="avatar" alt="Andreas Volkmann" /></noscript> <span class="loading" slot="loading" hidden> <span class="icon-cog"></span> </span> </hy-img><h2 class="page-title hr"> About</h2><p>Any opinions expressed on this site are my own and do not represent the views of my employer.<div class="sidebar-social"> <span class="sr-only">Social:</span><ul><li> <a href="https://github.com/AndreasVolkmann" title="GitHub" class="no-mark-external"> <span class="icon-github"></span> <span class="sr-only">GitHub</span> </a><li> <a href="https://play.spotify.com/user/113258637" title="Spotify" class="no-mark-external"> <span class="icon-spotify"></span> <span class="sr-only">Spotify</span> </a><li> <a href="https://soundcloud.com/shin-kudo" title="SoundCloud" class="no-mark-external"> <span class="icon-soundcloud"></span> <span class="sr-only">SoundCloud</span> </a><li> <a href="http://www.last.fm/user/shadowgonzo" title="Last.fm" class="no-mark-external"> <span class="icon-lastfm"></span> <span class="sr-only">Last.fm</span> </a><li> <a href="http://stackoverflow.com/users/5335131/andreas-volkmann" title="Stack Overflow" class="no-mark-external"> <span class="icon-stackoverflow"></span> <span class="sr-only">Stack Overflow</span> </a><li> <a href="https://www.linkedin.com/in/andreas-volkmann-a5553a106" title="LinkedIn" class="no-mark-external"> <span class="icon-linkedin2"></span> <span class="sr-only">LinkedIn</span> </a></ul></div></div></aside><aside class="related mb4" role="complementary"><h2 class="hr">Related Posts</h2><ul class="related-posts"><li> <a href="/blog/onsen/2025-04-30-yunnan-onsen/" class="h4 flip-title"><span>♨️ Onsen - Yunnan</span></a> <time class="heading faded fine" datetime="2025-04-30T00:00:00-07:00">30 Apr 2025</time><li> <a href="/blog/software/2025-04-19-flow-perf-csv-to-json/" class="h4 flip-title"><span>⚡ Power Automate - Efficient CSV to JSON</span></a> <time class="heading faded fine" datetime="2025-04-19T00:00:00-07:00">19 Apr 2025</time><li> <a href="/blog/software/2024-07-22-first-agent/" class="h4 flip-title"><span>⚗️ Learning from Agents</span></a> <time class="heading faded fine" datetime="2024-07-22T00:00:00-07:00">22 Jul 2024</time></ul></aside><footer role="contentinfo"><hr/><p><small class="copyright">© 2025. All rights reserved. </small><hr class="sr-only"/></footer></main><hy-drawer class="" align="left" threshold="10" touch-events prevent-default ><header id="_sidebar" class="sidebar" role="banner"><div class="sidebar-bg sidebar-overlay" style="background-color:rgb(25,55,71);background-image:url(/assets/img/sidebar-bg.jpg)"></div><div class="sidebar-sticky"><div class="sidebar-about"> <a class="no-hover" href="/" tabindex="-1"> <img src="/assets/icons/icon.png" class="avatar" alt="Andreas Volkmann" data-ignore /> </a><h2 class="h1"><a href="/">Andreas Volkmann</a></h2><p class=""> Personal page.</div><nav class="sidebar-nav heading" role="navigation"> <span class="sr-only">Navigation:</span><ul><li> <a id="_navigation" href="/posts/" class="sidebar-nav-item" > Blog </a><li> <a href="/about/" class="sidebar-nav-item" > About </a></ul></nav><div class="sidebar-social"> <span class="sr-only">Social:</span><ul><li> <a href="https://github.com/AndreasVolkmann" title="GitHub" class="no-mark-external"> <span class="icon-github"></span> <span class="sr-only">GitHub</span> </a><li> <a href="https://play.spotify.com/user/113258637" title="Spotify" class="no-mark-external"> <span class="icon-spotify"></span> <span class="sr-only">Spotify</span> </a><li> <a href="https://soundcloud.com/shin-kudo" title="SoundCloud" class="no-mark-external"> <span class="icon-soundcloud"></span> <span class="sr-only">SoundCloud</span> </a><li> <a href="http://www.last.fm/user/shadowgonzo" title="Last.fm" class="no-mark-external"> <span class="icon-lastfm"></span> <span class="sr-only">Last.fm</span> </a><li> <a href="http://stackoverflow.com/users/5335131/andreas-volkmann" title="Stack Overflow" class="no-mark-external"> <span class="icon-stackoverflow"></span> <span class="sr-only">Stack Overflow</span> </a><li> <a href="https://www.linkedin.com/in/andreas-volkmann-a5553a106" title="LinkedIn" class="no-mark-external"> <span class="icon-linkedin2"></span> <span class="sr-only">LinkedIn</span> </a></ul></div></div></header></hy-drawer><hr class="sr-only" hidden /> </hy-push-state> <!--[if gt IE 10]><!----> <script nomodule>!function(){var e=document.createElement("script");if(!("noModule"in e)&&"onbeforeload"in e){var t=!1;document.addEventListener("beforeload",function(n){if(n.target===e)t=!0;else if(!n.target.hasAttribute("nomodule")||!t)return;n.preventDefault()},!0),e.type="module",e.src=".",document.head.appendChild(e),e.remove()}}(); </script> <script type="module" src="/assets/js/hydejack-8.5.2.js"></script> <script nomodule src="/assets/js/hydejack-legacy-8.5.2.js" defer></script> <script>!function(w, d) { w.ga=w.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date; /**/ ga('create', 'UA-134200014-1', 'auto'); /**/ var pushStateEl = d.getElementsByTagName('hy-push-state')[0]; var timeoutId; pushStateEl.addEventListener('hy-push-state-load', function() { w.clearTimeout(timeoutId); timeoutId = w.setTimeout(function() { ga('set', 'page', w.location.pathname); ga('send', 'pageview'); }, 500); }); d.addEventListener('hy--cookies-ok', function () { w.ga(function(tracker) { w.ga("set", "anonymizeIp", undefined); localStorage && localStorage.setItem("ga--client-id", tracker.get("clientId")); }); }); w.loadJSDeferred('https://www.google-analytics.com/analytics.js'); }(window, document);</script> <!--<![endif]--><h2 class="sr-only" hidden>Templates (for web app):</h2><template id="_animation-template" hidden><div class="animation-main fixed-top"><div class="content"><div class="page"></div></div></div></template> <template id="_loading-template" hidden><div class="loading nav-btn fr"> <span class="sr-only">Loading…</span> <span class="icon-cog"></span></div></template> <template id="_error-template" hidden><div class="page"><h1 class="page-title">Error</h1><p class="lead"> Sorry, an error occurred while loading <a class="this-link" href=""></a>.</div></template> <template id="_forward-template" hidden> <button id="_forward" class="forward nav-btn no-hover fl"> <span class="sr-only">Forward</span> <span class="icon-arrow-right2"></span> </button> </template> <template id="_back-template" hidden> <button id="_back" class="back nav-btn no-hover fl"> <span class="sr-only">Back</span> <span class="icon-arrow-left2"></span> </button> </template> <template id="_permalink-template" hidden> <a href="#" class="permalink"> <span class="sr-only">Permalink</span> <span class="icon-link"></span> </a> </template></html>
